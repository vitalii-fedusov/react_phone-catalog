(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{23:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var s=c(12),a=c.n(s),r=c(7),i=c(3),n=(c(23),c(1)),l=c.n(n),o=c.p+"static/media/logo.c9417692.svg",d=c.p+"static/media/arrow-up.a61ad2d0.svg",j=c(0);const b=()=>Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("div",{className:"footer__container",children:Object(j.jsxs)("div",{className:"footer__nav",children:[Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("img",{className:"logo",src:o,alt:"Logo"})}),Object(j.jsxs)("ul",{className:"list",children:[Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)("a",{className:"list__link",target:"_blank",rel:"noreferrer",href:"https://github.com/vitalii-fedusov?tab=repositories",children:"Github"})}),Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)("a",{className:"list__link",href:"/",children:"Contacts"})}),Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)("a",{className:"list__link",href:"/",children:"Rights"})})]}),Object(j.jsxs)("div",{className:"footer__button-up",children:[Object(j.jsx)("p",{className:"footer__paragraph",children:"Back to top"}),Object(j.jsx)("button",{type:"button",className:"footer__link",onClick:()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},children:Object(j.jsx)("img",{className:"footer__arrow-up",src:d,alt:"Arrow up"})})]})]})})});var h=c(9),m=c.n(h),u=c.p+"static/media/favourites-hart-like.dbd19c03.svg",p=c.p+"static/media/shopping-bag.9229aff4.svg";function O(e,t){const[c,s]=Object(n.useState)((()=>{const c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(s){return localStorage.removeItem(e),t}}));return[c,t=>{localStorage.setItem(e,JSON.stringify(t)),s(t)}]}const _=l.a.createContext({hotPricePhones:[],setHotPriceProducts:()=>{},newPhones:[],setNewProducts:()=>{},cartPhones:[],setCartPhones:()=>{},favourites:[],setFavourites:()=>{},query:"",setQuery:()=>{},appliedQuery:"",setAppliedQuery:()=>{}}),x=()=>l.a.useContext(_),g=e=>{let{children:t}=e;const[c,s]=Object(n.useState)([]),[a,r]=Object(n.useState)([]),[i,l]=O("cart",[]),[o,d]=O("favourites",[]),[b,h]=Object(n.useState)(""),[m,u]=Object(n.useState)(""),p=Object(n.useMemo)((()=>({hotPricePhones:c,setHotPriceProducts:s,newPhones:a,setNewProducts:r,cartPhones:i,setCartPhones:l,favourites:o,setFavourites:d,query:b,setQuery:h,appliedQuery:m,setAppliedQuery:u})),[c,a,i,l,o,d,b,h,m,u]);return Object(j.jsx)(_.Provider,{value:p,children:t})};var v=c.p+"static/media/search.1e77bbf1.svg";const N=e=>{let{isActive:t}=e;return m()("list__link",{"list__link--active":t})};const f=()=>{const e=Object(i.o)(),{cartPhones:t,favourites:c,query:s,setQuery:a,setAppliedQuery:l}=x(),d=e.pathname.replace("/",""),[,b]=Object(r.d)(),h=Object(n.useCallback)(function(e,t){let c=0;return function(){for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];window.clearTimeout(c),c=window.setTimeout((()=>{e(...a)}),t)}}(l,1e3),[]),O=()=>{a(""),l(""),b((e=>{const t=new URLSearchParams(e.toString());return t.delete("query"),t}))};return Object(j.jsxs)("header",{className:"header top-bar",children:[Object(j.jsxs)("div",{className:"top-bar__nav",children:[Object(j.jsx)(r.c,{className:"logo",to:"/",children:Object(j.jsx)("img",{className:"logo__image",src:o,alt:"Logo"})}),!e.pathname.includes("cart")&&Object(j.jsxs)("ul",{className:"list",children:[Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)(r.c,{className:N,to:"/",onClick:O,children:"Home"})}),Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)(r.c,{className:N,to:"/phones",onClick:O,children:"Phones"})}),Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)(r.c,{className:N,to:"/tablets",onClick:O,children:"Tablets"})}),Object(j.jsx)("li",{className:"list__item",children:Object(j.jsx)(r.c,{className:N,to:"/accessories",onClick:O,children:"Accessories"})})]})]}),Object(j.jsxs)("div",{className:"top-bar__options",children:[("favourites"===d||"phones"===d||"tablets"===d||"accessories"===d)&&Object(j.jsxs)("label",{htmlFor:"input",className:"top-bar__option top-bar__input-container",children:[Object(j.jsx)("input",{id:"input",className:"top-bar__input",type:"text",placeholder:"Search in ".concat(d,"..."),value:s,onChange:e=>(e=>{a(e.target.value),h(e.target.value),b((t=>{const c=new URLSearchParams(t.toString());return c.set("query",e.target.value),c.get("query")||c.delete("query"),c}))})(e)}),s?Object(j.jsx)("button",{className:"top-bar__clear-query",type:"button",onClick:O,"aria-label":"clear-query"}):Object(j.jsx)("img",{src:v,alt:"magnifier-icon"})]}),!e.pathname.includes("cart")&&Object(j.jsx)(r.c,{className:m()("top-bar__option",{"cart-is-active":e.pathname.includes("favourites")}),to:"/favourites",children:Object(j.jsxs)("div",{className:"icon-container",children:[Object(j.jsx)("img",{className:m()("icon",{"icon--with-amount":c.length>0}),src:u,alt:"favourites"}),c.length>0&&Object(j.jsx)("div",{className:"item-amount",children:c.length})]})}),Object(j.jsx)(r.c,{className:m()("top-bar__option",{"cart-is-active":e.pathname.includes("cart")}),to:"/cart",children:Object(j.jsxs)("div",{className:"icon-container",children:[Object(j.jsx)("img",{className:m()("icon",{"icon--with-amount":t.length>0}),src:p,alt:"shopping bag"}),t.length>0&&Object(j.jsx)("div",{className:"item-amount",children:t.length})]})})]})]})},y=()=>Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("main",{className:"main-container",children:Object(j.jsx)(i.b,{})})}),Object(j.jsx)(b,{})]});var w=c(17),k=c.n(w);c(40),c(41);const C=e=>{let{card:t,discount:c=!0}=e;const s="/phones/".concat(t.phoneId),{cartPhones:a,setCartPhones:i,favourites:n,setFavourites:l}=x(),o=t.id,d=a.map((e=>e.id)),b=n.map((e=>e.id));return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)(r.c,{to:s,className:"card__nav-link",children:Object(j.jsx)("img",{className:"card__image",src:t.image,alt:"phone_image"})}),Object(j.jsx)("h3",{className:"card__name",children:t.name}),Object(j.jsx)("div",{className:"card__price",children:c?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"card__hot-price",children:"$".concat(t.price)}),Object(j.jsx)("p",{className:"card__full-price",children:"$".concat(t.fullPrice)})]}):Object(j.jsx)("p",{className:"card__hot-price",children:"$".concat(t.fullPrice)})}),Object(j.jsxs)("div",{className:"card__info",children:[Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:"Screen"}),Object(j.jsx)("p",{className:"card__char-value",children:t.screen})]}),Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:"Capacity"}),Object(j.jsx)("p",{className:"card__char-value",children:t.capacity})]}),Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:"RAM"}),Object(j.jsx)("p",{className:"card__char-value",children:t.ram})]})]}),Object(j.jsxs)("div",{className:"card__button",children:[Object(j.jsx)("div",{onClick:()=>{const e={id:o,quantity:1,product:{...t}};if(a.find((t=>t.id===e.id)))return;const c=new Set([...a,e]),s=Array.from(c);i(s)},className:m()("card__link",{"card__link--added":d.includes(o)}),role:"presentation",children:d.includes(o)?"Added to cart":"Add to cart"}),b.includes(o)?Object(j.jsx)("div",{className:"card__icon card__icon--added","data-cy":"addToFavorite",role:"presentation",onClick:()=>{const e=n.filter((e=>e.id!==o));l(e)}}):Object(j.jsx)("div",{className:"card__icon","data-cy":"addToFavorite",role:"presentation",onClick:()=>{if(n.find((e=>e.id===o)))return;const e=[...n,t];l(e)}})]})]})},P=e=>{let{products:t,discount:c,title:s}=e;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"card-container","data-cy":"cardsContainer",children:[Object(j.jsx)("h1",{className:"slick-title",children:s}),Object(j.jsx)(k.a,{dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:3,children:t.map((e=>Object(j.jsx)(C,{card:e,discount:c},e.id)))})]})})};var S=c(56),A=c(51),E=c(52),F=c(53),T=c(54),q=c(47),L=c(57),R=c(55);c(42),c(43),c(44),c(45),c(46);S.a.use([A.a,E.a,F.a,T.a,q.a]);const M=()=>Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(L.a,{id:"main",tag:"section",wrapperTag:"ul",slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:5e3},pagination:{clickable:!0},navigation:!0,className:"mySwiper",children:[{id:1,src:"./img/banner-phones.png",alt:"banner-phones"},{id:2,src:"./img/banner-tablets.png",alt:"banner-tablets"},{id:3,src:"./img/banner-accessories.png",alt:"banner-accessories"}].map((e=>Object(j.jsx)(R.a,{tag:"li",children:Object(j.jsx)("img",{className:"swiper-image",src:e.src,style:{listStyle:"none"},alt:e.alt})},e.id)))})});var I=c.p+"static/media/category-phones.c3469de9.png",B=c.p+"static/media/category-tablets.70cceed3.png",Q=c.p+"static/media/category-accessories.f97da0dc.png";const G=()=>Object(j.jsxs)("div",{className:"category","data-cy":"categoryLinksContainer",children:[Object(j.jsx)("h1",{className:"category__title",children:"Shop by category"}),Object(j.jsxs)("ul",{className:"category__list",children:[Object(j.jsxs)("li",{className:"category__item",children:[Object(j.jsx)(r.c,{className:"category__link category__phones",to:"/phones",children:Object(j.jsx)("img",{className:"category__image category__image--phones",src:I,alt:"Mobile phones"})}),Object(j.jsx)("h2",{className:"category__subtitle",children:"Mobile phones"}),Object(j.jsx)("p",{className:"category__paragraph",children:"71 modesl"})]}),Object(j.jsxs)("li",{className:"category__item",children:[Object(j.jsx)(r.c,{className:"category__link category__tablets",to:"/tablets",children:Object(j.jsx)("img",{className:"category__image",src:B,alt:"Tablets"})}),Object(j.jsx)("h2",{className:"category__subtitle",children:"Tablets"}),Object(j.jsx)("p",{className:"category__paragraph",children:"0 modesl"})]}),Object(j.jsxs)("li",{className:"category__item",children:[Object(j.jsx)(r.c,{className:"category__link category__accessories",to:"/accessories",children:Object(j.jsx)("img",{className:"category__image",src:Q,alt:"Accessories"})}),Object(j.jsx)("h2",{className:"category__subtitle",children:"Accessories"}),Object(j.jsx)("p",{className:"category__paragraph",children:"0 modesl"})]})]})]}),U="https://mate-academy.github.io/react_phone-catalog/_new/products.json";function $(e){return new Promise((t=>setTimeout(t,e)))}function D(){return e="",$(500).then((()=>fetch(U+e))).then((e=>{if(!e.ok)throw new Error;return e.json()}));var e}const H=()=>D();function J(e,t){const c=[...e];return c.filter((e=>e.category===t)),c}var z=c(58);const Y=()=>Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)(z.a,{color:"#313237",cssOverride:{display:"block",margin:"0 auto",padding:"100 100"},size:80})});let Z=function(e){return e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e}({});const V=()=>{const{hotPricePhones:e,setHotPriceProducts:t,newPhones:c,setNewProducts:s}=x(),[a,r]=Object(n.useState)(!0);return Object(n.useEffect)((()=>{(async()=>{try{const e=(await H()).map((e=>({...e,name:"".concat(e.name," (iMT9G2FS/A)")})));t(function(e,t){const c=[...e];return c.filter((e=>e.category===t)),c.sort(((e,t)=>t.fullPrice-t.price-(e.fullPrice-e.price))),c}(e,Z.Phones)),s(function(e,t){const c=[...e];return c.filter((e=>e.category===t)),c.sort(((e,t)=>t.year-e.year)),c}(e,Z.Phones)),r(!1)}catch(e){throw new Error}})()}),[t,s]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(M,{}),a?Object(j.jsx)(Y,{}):Object(j.jsx)(P,{discount:!0,title:"Hot prices",products:e}),Object(j.jsx)(G,{}),a?Object(j.jsx)(Y,{}):Object(j.jsx)(P,{discount:!1,title:"Brand new models",products:c})]})};var W=c(18),K=c.n(W);const X=e=>{const t=Object(n.useRef)(null);return Object(n.useEffect)((()=>{const c=c=>{t.current&&!t.current.contains(c.target)&&e(c)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}}),[e]),t};function ee(e,t){const c=new URLSearchParams(e.toString());return Object.entries(t).forEach((e=>{let[t,s]=e;null===s?c.delete(t):Array.isArray(s)?(c.delete(t),s.forEach((e=>{c.append(t,e)}))):c.set(t,s)})),c.toString()}const te=e=>{let{children:t,params:c,...s}=e;const[a]=Object(r.d)();return Object(j.jsx)(r.b,{to:{search:ee(a,c)},...s,children:t})};let ce=function(e){return e.AGE="age",e.NAME="name",e.PRICE="price",e}({});const se=()=>{const[e,t]=Object(n.useState)(!1),c=X((()=>t(!1))),[s,a]=Object(n.useState)("Newest"),[i]=Object(r.d)();Object(n.useEffect)((()=>{switch(i.get("sort")){case ce.PRICE:a("Cheapest");break;case ce.NAME:a("Alphabetically");break;default:a("Newest")}}),[i]);const l=()=>{t(!e)},o=[{field:"Newest",id:1,value:ce.AGE},{field:"Alphabetically",id:2,value:ce.NAME},{field:"Cheapest",id:3,value:ce.PRICE}];return Object(j.jsxs)("div",{"data-cy":"UserSelector",className:"dropdown",ref:c,children:[Object(j.jsx)("p",{className:"dropdown__name",children:"Sort by"}),Object(j.jsx)("button",{type:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:l,className:m()("dropdown__button dropdown__button--select",{"dropdown__button--focused":e}),children:Object(j.jsx)("span",{children:s||"Choose a option"})}),e&&Object(j.jsx)("div",{className:"option-container",children:o.map((e=>Object(j.jsx)(te,{role:"button",onClick:()=>(e=>{e.value!==i.get("sort")?t(!1):l()})(e),className:"dropdown__button dropdown__button--option",params:{sort:e.value,page:"1"},children:e.field},e.id)))})]})},ae=e=>{let{currentAmount:t=16,length:c=100}=e;const[s,a]=Object(n.useState)(!1),r=X((()=>a(!1))),i=()=>{a(!s)},l=[{field:"16",id:1,value:16},{field:"8",id:2,value:8},{field:"4",id:3,value:4},{field:"all",id:4,value:c}];return Object(j.jsxs)("div",{"data-cy":"UserSelector",className:"dropdown dropdown--per-page",ref:r,children:[Object(j.jsx)("p",{className:"dropdown__name",children:"Items on page"}),Object(j.jsx)("button",{type:"button",className:m()("dropdown__button dropdown__button--select",{"dropdown__button--focused":s}),"aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:i,onBlur:()=>i,children:Object(j.jsx)("span",{children:t<=16?t:"All"})}),s&&Object(j.jsx)("div",{className:"option-container",children:l.map((e=>Object(j.jsx)(te,{role:"button",onClick:()=>{var c;"all"!==(c=e.field)?+c!==t?a(!1):i():a(!1)},className:"dropdown__button dropdown__button--option",params:{perPage:e.value.toString()},children:e.field},e.id)))})]})};var re=c.p+"static/media/arrow-right-secondary-color.a374b573.svg";const ie=e=>{let{results:t=[]}=e;return Object(j.jsxs)("div",{className:"phones",children:[Object(j.jsx)("p",{className:"path",children:"".concat(t.length," results")}),t.length?Object(j.jsx)("div",{className:"phones-container",children:t.map((e=>Object(j.jsx)(C,{card:e,discount:!0},e.id)))}):Object(j.jsx)("h1",{children:"No matching results"})]})},ne=()=>{const[e,t]=Object(r.d)(),[c,s]=Object(n.useState)(!0),[a,i]=Object(n.useState)([]),l=e.get("sort")||"",o=+(e.get("perPage")||16),[d,b]=Object(n.useState)(a),h=+(e.get("page")||1),{appliedQuery:m}=x();Object(n.useEffect)((()=>{window.scrollTo(0,0)}),[h]);const u=Object(n.useMemo)((()=>a.filter((e=>{const t=m.toLowerCase();return e.name.toLowerCase().includes(t)}))),[m,a]);Object(n.useEffect)((()=>{const e=(()=>{const e=[...a];switch(l){case ce.PRICE:e.sort(((e,t)=>e.price-t.price));break;case ce.NAME:e.sort(((e,t)=>e.name.localeCompare(t.name)));break;default:e.sort(((e,t)=>t.year-e.year))}return e})();b(e)}),[a,l]),Object(n.useEffect)((()=>{(async()=>{try{const e=(await H()).map((e=>({...e,name:"".concat(e.name," (iMT9G2FS/A)")})));i(J(e,Z.Phones)),s(!1)}catch(e){throw new Error}})()}),[i]);const p=(h-1)*o,O=p+o,_=d.slice(p,O),g=Math.ceil(a.length/o);return Object(n.useEffect)((()=>{const t=document.querySelector('ul[role="navigation"]'),c=null===t||void 0===t?void 0:t.querySelectorAll("li"),s=e.get("page");null===c||void 0===c||c.forEach((e=>{e.classList.contains("selected")&&e.innerText!==s&&e.classList.remove("selected"),e.classList.contains("selected")||e.innerText!==s||e.classList.add("selected")}))}),[e]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"phones",children:[Object(j.jsxs)("div",{className:"path","data-cy":"breadCrumbs",children:[Object(j.jsx)(r.b,{to:"/",className:"go-home"}),Object(j.jsx)("img",{src:re,alt:"arrow_right"}),Object(j.jsx)("h3",{children:"Phones"})]}),Object(j.jsx)(j.Fragment,{children:m?Object(j.jsx)(ie,{results:u}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"phones__title",children:"Mobile phones"}),Object(j.jsx)("p",{className:"phones__paragraph",children:"".concat(a.length," models")}),Object(j.jsxs)("div",{className:"dropdowns-container",children:[Object(j.jsx)(se,{}),Object(j.jsx)(ae,{currentAmount:o,length:a.length})]}),c?Object(j.jsx)(Y,{}):Object(j.jsx)("div",{className:"phones-container",children:_.map((e=>Object(j.jsx)(C,{card:e,discount:!0},e.id)))}),o>=4&&o<a.length&&Object(j.jsx)(K.a,{breakLabel:"...",nextLabel:"",onPageChange:e=>{const c=e.selected+1;t((e=>{const t=new URLSearchParams(e.toString());return t.set("page",c.toString()),t}))},pageRangeDisplayed:5,pageCount:g,previousLabel:"",renderOnZeroPageCount:null,forcePage:h-1})]})})]})})};var le=c.p+"static/media/home.f28213b9.svg";const oe=()=>{const[e,t]=Object(n.useState)([]),[c,s]=Object(n.useState)(!0);Object(n.useEffect)((()=>{(async()=>{try{const e=await H();t(e),t((e=>e.filter((e=>e.category===Z.Tablets)))),s(!1)}catch(e){throw new Error}})()}),[t]);const{appliedQuery:a}=x(),[r,i]=Object(n.useState)(e);return Object(n.useEffect)((()=>{const t=a.toLowerCase(),c=e.filter((e=>e.name.toLowerCase().includes(t)));i(c)}),[a,e]),Object(j.jsxs)("div",{className:"tablets",children:[Object(j.jsxs)("div",{className:"path",children:[Object(j.jsx)("img",{src:le,alt:"home_icon"}),Object(j.jsx)("img",{src:re,alt:"arrow_right"}),Object(j.jsx)("h3",{children:"Tablets"})]}),Object(j.jsx)(j.Fragment,{children:a?Object(j.jsx)(ie,{results:r}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"tablets__header",children:"Tablets"}),Object(j.jsxs)("div",{className:"tablets",children:[Object(j.jsx)("div",{children:c?Object(j.jsx)(Y,{}):Object(j.jsx)("div",{className:"phones-container",children:e.map((e=>Object(j.jsx)(C,{card:e,discount:!0},e.id)))})}),!c&&0===e.length&&Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"There are no tablets yet"})})]})]})})]})},de=()=>{const[e,t]=Object(n.useState)([]),[c,s]=Object(n.useState)(!0);Object(n.useEffect)((()=>{(async()=>{try{const e=await H();t(e),t((e=>e.filter((e=>e.category===Z.Accessories)))),s(!1)}catch(e){throw new Error}})()}),[t]);const{appliedQuery:a}=x(),[r,i]=Object(n.useState)(e);return Object(n.useEffect)((()=>{const t=a.toLowerCase(),c=e.filter((e=>e.name.toLowerCase().includes(t)));i(c)}),[a,e]),Object(j.jsxs)("div",{className:"tablets",children:[Object(j.jsxs)("div",{className:"path",children:[Object(j.jsx)("img",{src:le,alt:"home_icon"}),Object(j.jsx)("img",{src:re,alt:"arrow_right"}),Object(j.jsx)("h3",{children:"Accessories"})]}),Object(j.jsx)(j.Fragment,{children:a?Object(j.jsx)(ie,{results:r}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"tablets__header",children:"Accessories"}),Object(j.jsx)("div",{children:c?Object(j.jsx)(Y,{}):Object(j.jsx)("div",{className:"phones-container",children:e.map((e=>Object(j.jsx)(C,{card:e,discount:!0},e.id)))})}),!c&&0===e.length&&Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"There are no accessories yet"})})]})})]})},je=()=>Object(j.jsx)("h1",{children:"Not Found Page"});var be=c.p+"static/media/arrow-left-black.7e79118d.svg";const he={id:"",category:"",phoneId:"",itemId:"",name:"",fullPrice:0,price:0,screen:"",capacity:"",ram:"",year:0,image:""},me=()=>{const e=Object(i.o)().pathname.replace("/phones/",""),t=e.replace(e[0],e[0].toUpperCase()),c=Object(i.q)(),[s,a]=Object(n.useState)(!0),[l,o]=Object(n.useState)(null),[d,b]=Object(n.useState)(""),[h,u]=Object(n.useState)([]),{cartPhones:p,setCartPhones:O,favourites:_,setFavourites:g}=x(),v=h.find((t=>t.itemId===e))||he,N=v.id,f=p.map((e=>e.id)),y=_.map((e=>e.id));let w=null===l||void 0===l?void 0:l.color;const k=null===l||void 0===l?void 0:l.capacity.replace("GB"," GB"),C=null===l||void 0===l?void 0:l.colorsAvailable.map((e=>"spacegray"===e?(w="#4c4c4c","#4c4c4c"):"midnightgreen"===e?(w="#5f7170","#5f7170"):"gold"===e?(w="#fcdbc1","#fcdbc1"):"silver"===e?(w="#f5f5f0","#f5f5f0"):"white"===e?(w="#f0f0f0","#f0f0f0"):"red"===e?(w="#ba0c2e","#ba0c2e"):"green"===e?(w="#aee1cd","#aee1cd"):"black"===e?(w="#201d24","#201d24"):"purple"===e?(w="#b8afe6","#b8afe6"):"yellow"===e?(w="#ffe681","#ffe681"):"rosegold"===e?(w="#fad7bd","#fad7bd"):"coral"===e?(w="#ee7762","#ee7762"):e)),S=null===l||void 0===l?void 0:l.capacityAvailable.map((e=>e.replace("GB"," GB"))),A=[null===l||void 0===l?void 0:l.screen,null===l||void 0===l?void 0:l.resolution,null===l||void 0===l?void 0:l.processor,null===l||void 0===l?void 0:l.ram,null===l||void 0===l?void 0:l.camera,null===l||void 0===l?void 0:l.zoom,null===l||void 0===l?void 0:l.cell.join(", ")],E=e=>{b(e)};Object(n.useEffect)((()=>{(async()=>{try{const c=await(t="/".concat(e,".json"),$(500).then((()=>fetch("https://mate-academy.github.io/react_phone-catalog/_new/products"+t))).then((e=>{if(!e.ok)throw new Error;return e.json()})));o(c),a(!1),E((null===c||void 0===c?void 0:c.images[0])||"")}catch(c){throw new Error}var t})()}),[o,e]),Object(n.useEffect)((()=>{(async()=>{try{const e=(await H()).map((e=>({...e,name:"".concat(e.name," (iMT9G2FS/A)")})));u(J(e,Z.Phones)),a(!1)}catch(e){throw new Error}})()}),[u]);const F=t.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");return Object(j.jsxs)("div",{className:"phones",children:[Object(j.jsxs)("div",{className:"path","data-cy":"breadCrumbs",children:[Object(j.jsx)(r.b,{to:"/",className:"go-home"}),Object(j.jsx)("img",{src:re,alt:"arrow_right"}),Object(j.jsx)(r.b,{to:"/phones",className:"phones__prev-page",children:"Phones"}),Object(j.jsx)("img",{src:re,alt:"arrow_right"}),Object(j.jsx)("h3",{children:F})]}),Object(j.jsxs)("button",{type:"button",className:"left-back",onClick:()=>c(-1),"data-cy":"backButton",children:[Object(j.jsx)("img",{src:be,alt:"arrow_right"}),Object(j.jsx)("p",{children:"Back"})]}),Object(j.jsx)("h1",{className:"phones__title phones__title--mb-40px",children:F}),s?Object(j.jsx)(Y,{}):Object(j.jsxs)(j.Fragment,{children:[v.id?Object(j.jsxs)("div",{className:"container-details",children:[Object(j.jsxs)("div",{className:"details",children:[Object(j.jsx)("div",{className:"details__small-photo-container",children:null===l||void 0===l?void 0:l.images.map((e=>Object(j.jsx)("div",{className:m()("details__small-photo",{selected:d===e}),onClick:()=>E(e),role:"presentation",children:Object(j.jsx)("img",{className:"details__small-image",src:e,alt:e})},e)))}),Object(j.jsx)("div",{className:"details__big-photo-container",children:Object(j.jsx)("div",{className:"details__big-photo",children:Object(j.jsx)("img",{className:"details__big-image",src:d,alt:d})})}),Object(j.jsxs)("aside",{className:"aside",children:[Object(j.jsxs)("div",{className:"colors",children:[Object(j.jsx)("h3",{className:"colors__title",children:"Avaliable colors"}),Object(j.jsx)("ul",{className:"colors__list",children:null===C||void 0===C?void 0:C.map((e=>Object(j.jsx)("li",{className:m()("colors__item",{colors__selected:w===e,colors__disabled:w!==e}),children:Object(j.jsx)("div",{className:"colors__color",style:{backgroundColor:"".concat(e)}})})))})]}),Object(j.jsxs)("div",{className:"capacity colors",children:[Object(j.jsx)("h3",{className:"colors__title",children:"Select capacity"}),Object(j.jsx)("ul",{className:"colors__list",children:null===S||void 0===S?void 0:S.map((e=>Object(j.jsx)("li",{className:m()("capacity__item",{capacity__selected:e===k,capacity__disabled:e!==k}),children:e})))})]}),Object(j.jsx)("div",{className:"card__price aside__price",children:null!==l&&void 0!==l&&l.priceDiscount?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"card__hot-price",children:"$".concat(null===l||void 0===l?void 0:l.priceDiscount)}),Object(j.jsx)("p",{className:"card__full-price",children:"$".concat(null===l||void 0===l?void 0:l.priceRegular)})]}):Object(j.jsx)("p",{className:"card__hot-price",children:"$".concat(null===l||void 0===l?void 0:l.priceRegular)})}),Object(j.jsxs)("div",{className:"card__info",children:[Object(j.jsxs)("div",{className:"card__button aside__button",children:[Object(j.jsx)("div",{onClick:()=>{const e={id:N,quantity:1,product:{...v}};if(p.find((t=>t.id===e.id)))return;const t=new Set([...p,e]),c=Array.from(t);O(c)},className:m()("card__link",{"card__link--added":f.includes(N)}),role:"presentation",children:f.includes(N)?"Added to cart":"Add to cart"}),y.includes(N)?Object(j.jsx)("div",{className:"card__icon card__icon--added","data-cy":"addToFavorite",role:"presentation",onClick:()=>{const e=_.filter((e=>e.id!==N));g(e)}}):Object(j.jsx)("div",{className:"card__icon","data-cy":"addToFavorite",role:"presentation",onClick:()=>{if(_.find((e=>e.id===N)))return;const e=[..._,v];g(e)}})]}),Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:"Screen"}),Object(j.jsx)("p",{className:"card__char-value",children:null===l||void 0===l?void 0:l.screen})]}),Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:"Capacity"}),Object(j.jsx)("p",{className:"card__char-value",children:null===l||void 0===l?void 0:l.capacity})]}),Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:"RAM"}),Object(j.jsx)("p",{className:"card__char-value",children:null===l||void 0===l?void 0:l.ram})]})]})]}),Object(j.jsx)("p",{className:"details__phone-id",children:"ID: 802390"})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("section",{className:"info",children:[Object(j.jsxs)("ul",{className:"info__about",children:[Object(j.jsx)("h2",{className:"info__title",children:"About"}),null===l||void 0===l?void 0:l.description.map((e=>Object(j.jsxs)("div",{className:"info__about-article",children:[Object(j.jsx)("h3",{className:"info__about-title",children:e.title}),Object(j.jsxs)("div",{className:"info__about-content",children:[e.text[0],e.text[1]&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"br"}),Object(j.jsx)("p",{children:e.text[1]})]})]})]},e.title)))]}),Object(j.jsxs)("ul",{className:"info__specs",children:[Object(j.jsx)("h2",{className:"info__title",children:"Tech specs"}),["Screen","Resolution","Processor","RAM","Camera","Zoom","Cell"].map(((e,t)=>Object(j.jsxs)("li",{className:"card__row",children:[Object(j.jsx)("p",{className:"card__char-name",children:e}),Object(j.jsx)("p",{className:"card__char-value",children:A[t]})]},e)))]})]})})]}):Object(j.jsx)("h1",{children:"Phone was not found"}),Object(j.jsx)(P,{products:h,discount:!0,title:"You may also like"})]})]})},ue=()=>{const e=Object(i.q)(),{cartPhones:t,setCartPhones:c}=x(),[s,a]=Object(n.useState)(!1),r=t.reduce(((e,t)=>+e+ +t.product.price*t.quantity),0),l=t.reduce(((e,t)=>+e+t.quantity),0);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"cart-container",children:[Object(j.jsxs)("button",{type:"button",className:"left-back",onClick:()=>e(-1),"data-cy":"backButton",children:[Object(j.jsx)("img",{src:be,alt:"arrow_right"}),Object(j.jsx)("p",{children:"Back"})]}),Object(j.jsx)("h1",{className:"cart-title",children:"Cart"}),t.length>0?Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsx)("ul",{className:"cart__list",children:t.map((e=>{const{image:s,name:a,price:r}=e.product;return Object(j.jsxs)("li",{className:"cart__item",children:[Object(j.jsxs)("div",{className:"cart__item--first-half",children:[Object(j.jsx)("button",{type:"button",className:"cart__button cart__delete","aria-label":"delete",onClick:()=>(e=>{const s=t.filter((t=>t.id!==e));c(s)})(e.id),"data-cy":"cartDeleteButton"}),Object(j.jsx)("img",{className:"cart__image",src:s,alt:a}),Object(j.jsx)("div",{children:e.product.name})]}),Object(j.jsxs)("div",{className:"cart__item--second-half",children:[Object(j.jsx)("button",{type:"button","aria-label":"decrease",className:m()("cart__button cart__minus",{"cart__minus--disabled":1===e.quantity}),onClick:()=>(e=>{const s=t.map((t=>t.id===e&&t.quantity>1?{...t,quantity:t.quantity-1}:t));c(s)})(e.id)}),Object(j.jsx)("div",{className:"cart__quantity",children:e.quantity}),Object(j.jsx)("button",{onClick:()=>(e=>{const s=t.map((t=>t.id===e?{...t,quantity:t.quantity+1}:t));c(s)})(e.id),type:"button","aria-label":"increase",className:"cart__button cart__plus"}),Object(j.jsx)("div",{className:"cart__phone-price",children:"$".concat(r)})]})]},e.id)}))}),Object(j.jsxs)("div",{className:"cart__aside",children:[Object(j.jsxs)("div",{className:"cart__price-container",children:[Object(j.jsx)("div",{className:"cart__total-price",children:"$".concat(r)}),Object(j.jsx)("div",{className:"cart__total","data-cy":"productQauntity",children:"Total for ".concat(l," items")})]}),Object(j.jsx)("div",{className:"cart__checkout card__link",onClick:()=>{a(!0),setTimeout((()=>{a(!1)}),3e3)},role:"presentation",children:s?"We are sorry, but this feature is not implemented yet":"Checkout"})]})]}):Object(j.jsx)("h2",{children:"Your cart is empty"})]})})},pe=()=>{const{favourites:e}=x(),{appliedQuery:t}=x(),[c,s]=Object(n.useState)(e);return Object(n.useEffect)((()=>{const c=t.toLowerCase(),a=e.filter((e=>e.name.toLowerCase().includes(c)));s(a)}),[t,e]),Object(j.jsxs)("div",{className:"phones",children:[Object(j.jsxs)("div",{className:"path","data-cy":"breadCrumbs",children:[Object(j.jsx)(r.b,{to:"/",className:"go-home"}),Object(j.jsx)("img",{src:re,alt:"arrow_right"}),Object(j.jsx)("h3",{children:"Favourites"})]}),t?Object(j.jsx)(ie,{results:c}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"phones__title",children:"Favourites"}),Object(j.jsx)("div",{className:"phones__paragraph",children:"".concat(e.length," items")}),Object(j.jsx)("div",{className:"phones-container",children:e.map((e=>Object(j.jsx)(C,{card:e,discount:!0},e.id)))})]})]})};function Oe(){const{pathname:e}=Object(i.o)();return Object(n.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}const _e=()=>Object(j.jsxs)(r.a,{children:[Object(j.jsx)(Oe,{}),Object(j.jsx)(i.e,{children:Object(j.jsxs)(i.c,{path:"/",element:Object(j.jsx)(y,{}),children:[Object(j.jsx)(i.c,{path:"home",element:Object(j.jsx)(i.a,{to:"/"})}),Object(j.jsx)(i.c,{index:!0,element:Object(j.jsx)(V,{})}),Object(j.jsx)(i.c,{path:"phones",element:Object(j.jsx)(ne,{})}),Object(j.jsx)(i.c,{path:"phones/:phoneId",element:Object(j.jsx)(me,{})}),Object(j.jsx)(i.c,{path:"tablets",element:Object(j.jsx)(oe,{})}),Object(j.jsx)(i.c,{path:"accessories",element:Object(j.jsx)(de,{})}),Object(j.jsx)(i.c,{path:"cart",element:Object(j.jsx)(ue,{})}),Object(j.jsx)(i.c,{path:"favourites",element:Object(j.jsx)(pe,{})}),Object(j.jsx)(i.c,{path:"*",element:Object(j.jsx)(je,{})})]})})]});a.a.render(Object(j.jsx)(g,{children:Object(j.jsx)(_e,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ac31d143.chunk.js.map